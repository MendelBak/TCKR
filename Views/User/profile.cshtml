<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js"
        asp-fallback-src="~/lib/jquery/dist/jquery.js"
        asp-fallback-test="window.jQuery">
</script>
<script>
    $(document).ready(function(){
        $('#PasswordForm').hide();
        $('#Password').click(function(){
            $('#PasswordForm').show();
        });
        $('#PasswordForm').submit(function() {
            var data = {
                Password: $("#password").val(),
                PasswordA: $("#passwordA").val(),
                PasswordB: $("#passwordB").val()
            }
            $.ajax({
                data: data,
                type: 'POST',
                url: 'UpdatePassword',
                success: function(response) {
        $('#PasswordForm').hide();
        }
    });
    return false; // cancel original event to prevent form submitting
});
    })
</script>
@model tckr.Models.User
@Html.Partial("navbar")
<div>
    <h1>Welcome to your profile @ViewBag.User.FirstName</h1>
</div>
<div id="StockInfo">
    <div id="TopPortfolio">
        <h4>Your Top Stocks</h4>
        <!-- Later we'll have a list of stocks and perhaps graphs -->
    </div>
    <div id="TopWatch">
        <h4>Your Top Stocks To Watch</h4>
        <!-- Later we'll have a list of stocks and perhaps graphs -->
    </div>
</div>
<div id="UserInfo">
    <div="Bio">
        <h3>Your Bio:</h3>
        @if(@ViewBag.Bio != null){
            <p>@ViewBag.Bio</p>
        }
        else{
            <h4>Create your bio:</h4>
            <form asp-controller="User" asp-action="UpdateBio" method="post">
                <span asp-validation-for="Bio"></span>
                <label asp-for="Bio">Bio: </label>
                <input asp-for="Bio"><br>
                <input type="submit" value="Submit">
            </form>
            // Later I'll use Jquery to create a text area that once clicked you can edit your bio directly on the page
        }
    </div>
    <div id="PrivateInfo">
        <h3>Personal Info:</h3>
        <p>Email: @ViewBag.User.Email</p>
        <a id="Password">Like to change your password?</a>
        <form id="PasswordForm" action="UpdatePassword" method="post">
            Current Password: <input type="text" id="password" name="password"><br>
            New Password: <input type="text" id="passwordA" name="passwordA"><br>
            Confirm New Password: <input type="text" id="passwordB" name="passwordB"><br>
            <input type="submit" value="Submit">
        </form>
        <!-- We can use jquery to create a form text to edit the user's password. The info will be sent to the Update method in the UserController -->
    </div>
</div>
